{"ast":null,"code":"import _slicedToArray from\"C:/Users/gmahe/Desktop/girs challenge - Copy/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import React,{useEffect,useReducer,useState,useRef}from'react';import'./Mapcopy.css';import{MapContainer}from'react-leaflet/MapContainer';import{TileLayer}from'react-leaflet/TileLayer';import'leaflet/dist/leaflet.css';import LineRender from'./LineRender';import{useNavigate}from\"react-router-dom\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var API='http://localhost:8000/api/lines/';var axios=require('axios');function Map1(){var _useState=useState(''),_useState2=_slicedToArray(_useState,2),lineData=_useState2[0],getlineData=_useState2[1];var _useState3=useState('0.5'),_useState4=_slicedToArray(_useState3,2),threshold=_useState4[0],setThreshold=_useState4[1];var _useState5=useState(false),_useState6=_slicedToArray(_useState5,2),showUpdate=_useState6[0],setShow=_useState6[1];var _useState7=useState(true),_useState8=_slicedToArray(_useState7,2),showClickDiv=_useState8[0],setClickDiv=_useState8[1];var _useState9=useState(true),_useState10=_slicedToArray(_useState9,2),showAdd=_useState10[0],setshowAdd=_useState10[1];var _useState11=useState(false),_useState12=_slicedToArray(_useState11,2),showAddField=_useState12[0],setshowAddField=_useState12[1];var _useState13=useState(''),_useState14=_slicedToArray(_useState13,2),geometryString=_useState14[0],setgeometryString=_useState14[1];var _useState15=useState(''),_useState16=_slicedToArray(_useState15,2),wearString=_useState16[0],setwearString=_useState16[1];var _useState17=useState(''),_useState18=_slicedToArray(_useState17,2),weatherString=_useState18[0],setweatherString=_useState18[1];var _useState19=useState(''),_useState20=_slicedToArray(_useState19,2),vegString=_useState20[0],setvegString=_useState20[1];var getalllineData=function getalllineData(){axios.get(API).then(function(response){var allLines=response.data;getlineData(allLines);});};useEffect(function(){getalllineData();},[]);var handleChange=function handleChange(event){if(event.target.value<0||event.target.value>1){alert(\"Please input valid threshold.\");event.target.value=0.5;}else{setThreshold(event.target.value);}};var clickShow=function clickShow(event){setShow(true);setClickDiv(false);};var navigate=useNavigate();var logOut=function logOut(){return navigate(\"/\");};var handleAddClick=function handleAddClick(){setshowAdd(false);setshowAddField(true);};var geometryAdd=function geometryAdd(event){var obj=JSON.parse(event.target.value);setgeometryString(obj);};var wearAdd=function wearAdd(event){setwearString(event.target.value);};var weatherAdd=function weatherAdd(event){setweatherString(event.target.value);};var vegAdd=function vegAdd(event){setvegString(event.target.value);};var nameAdd=function nameAdd(event){};var addToMap=function addToMap(){setshowAddField(false);setshowAdd(true);axios.post(API,{geometry:geometryString,wear:wearString,weather:weatherString,vegetation:vegString}).then(function(response){console.log(response);}).catch(function(error){alert(\"Please make sure fields are valid.\");});setgeometryString('');setwearString('');setweatherString('');setvegString('');};return/*#__PURE__*/_jsxs(\"div\",{className:\"background\",children:[/*#__PURE__*/_jsx(\"header\",{className:\"header1\",children:/*#__PURE__*/_jsx(\"div\",{className:\"logout\",onClick:logOut,children:\"Log Out\"})}),/*#__PURE__*/_jsxs(\"div\",{className:\"map\",children:[/*#__PURE__*/_jsxs(\"div\",{children:[showClickDiv&&/*#__PURE__*/_jsx(\"div\",{className:\"thresholdButton\",onClick:clickShow,children:\"Update Threshold\"}),showUpdate&&/*#__PURE__*/_jsx(\"form\",{children:/*#__PURE__*/_jsx(\"input\",{type:\"text\",placeholder:\"Threshold\",name:\"Threshold\",onChange:handleChange,className:\"thresInput\"})}),showClickDiv&&/*#__PURE__*/_jsxs(\"h3\",{children:[\"Current Threshold: \",threshold]}),/*#__PURE__*/_jsxs(MapContainer,{className:\"map\",center:[38.5,-121.7],zoom:9,scrollWheelZoom:true,children:[/*#__PURE__*/_jsx(TileLayer,{attribution:\"\\xA9 <a href=\\\"https://www.openstreetmap.org/copyright\\\">OpenStreetMap</a> contributors\",url:\"https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png\"}),/*#__PURE__*/_jsx(LineRender,{lines:lineData,thres:threshold})]})]}),showAdd&&/*#__PURE__*/_jsx(\"div\",{className:\"addLine\",onClick:handleAddClick,children:\"Add Line\"}),showAddField&&/*#__PURE__*/_jsxs(\"form\",{className:\"formbox\",children:[/*#__PURE__*/_jsx(\"input\",{type:\"text\",placeholder:\"Geometry\",className:\"addInput\",onChange:geometryAdd}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",placeholder:\"Wear\",className:\"addInput\",onChange:wearAdd}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",placeholder:\"Weather\",className:\"addInput\",onChange:weatherAdd}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",placeholder:\"Vegetation\",className:\"addInput\",onChange:vegAdd}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",placeholder:\"Name\",className:\"addInput\",onChange:nameAdd}),/*#__PURE__*/_jsx(\"label\",{children:/*#__PURE__*/_jsx(\"input\",{type:\"submit\",className:\"addInput\",onClick:addToMap})})]})]})]});}export default Map1;","map":{"version":3,"names":["React","useEffect","useReducer","useState","useRef","MapContainer","TileLayer","LineRender","useNavigate","API","axios","require","Map1","lineData","getlineData","threshold","setThreshold","showUpdate","setShow","showClickDiv","setClickDiv","showAdd","setshowAdd","showAddField","setshowAddField","geometryString","setgeometryString","wearString","setwearString","weatherString","setweatherString","vegString","setvegString","getalllineData","get","then","response","allLines","data","handleChange","event","target","value","alert","clickShow","navigate","logOut","handleAddClick","geometryAdd","obj","JSON","parse","wearAdd","weatherAdd","vegAdd","nameAdd","addToMap","post","geometry","wear","weather","vegetation","console","log","catch","error"],"sources":["C:/Users/gmahe/Desktop/girs challenge - Copy/src/Mapcopy.js"],"sourcesContent":["import React, {useEffect, useReducer, useState,useRef} from 'react';\r\nimport './Mapcopy.css';\r\nimport { MapContainer } from 'react-leaflet/MapContainer'\r\nimport { TileLayer } from 'react-leaflet/TileLayer'\r\nimport 'leaflet/dist/leaflet.css';\r\nimport LineRender from './LineRender'\r\nimport {useNavigate} from \"react-router-dom\"\r\nconst API = 'http://localhost:8000/api/lines/'\r\nconst axios = require('axios');\r\n\r\nfunction Map1() {\r\n  \r\n  const [lineData,getlineData] = useState('')\r\n  const [threshold,setThreshold] = useState('0.5')\r\n  const [showUpdate,setShow] = useState(false)\r\n  const [showClickDiv, setClickDiv] = useState(true)\r\n  const [showAdd, setshowAdd] = useState(true)\r\n  const [showAddField, setshowAddField] = useState(false)\r\n  const [geometryString,setgeometryString] = useState('')\r\n  const [wearString,setwearString] = useState('')\r\n  const [weatherString,setweatherString] = useState('')\r\n  const [vegString,setvegString] = useState('')\r\n\r\n\r\n  const getalllineData = () => {\r\n    axios.get(API)\r\n    .then((response) => {\r\n      const allLines = response.data\r\n      getlineData(allLines)\r\n    })\r\n  }\r\n\r\n  useEffect(() => {\r\n    getalllineData();\r\n  }, []);\r\n\r\n  const handleChange = event => {\r\n    if(event.target.value < 0 || event.target.value > 1){\r\n      alert(\"Please input valid threshold.\")\r\n      event.target.value = 0.5\r\n    }\r\n    else{ \r\n      setThreshold(event.target.value)\r\n    }\r\n  }\r\n\r\n  const clickShow = event => {\r\n    setShow(true)\r\n    setClickDiv(false)\r\n  }\r\n\r\n  const navigate = useNavigate()\r\n  const logOut = () =>\r\n    {\r\n      return(\r\n        navigate(\"/\")\r\n    )      \r\n    }\r\n  \r\n  const handleAddClick = () => {\r\n    setshowAdd(false)\r\n    setshowAddField(true)\r\n  }\r\n\r\n  const geometryAdd = (event) => {\r\n    var obj = JSON.parse(event.target.value)\r\n    setgeometryString(obj)\r\n  }\r\n  const wearAdd = (event) => {\r\n    setwearString(event.target.value)\r\n  }\r\n  const weatherAdd = (event) => {\r\n    setweatherString(event.target.value)\r\n  }\r\n  const vegAdd = (event) => {\r\n    setvegString(event.target.value)\r\n  }\r\n\r\n  const nameAdd = (event) => {\r\n    \r\n  }\r\n\r\n  const addToMap = () => {\r\n    setshowAddField(false)\r\n    setshowAdd(true)\r\n    axios.post(API, {\r\n      geometry: geometryString,\r\n      wear: wearString,\r\n      weather: weatherString,\r\n      vegetation : vegString,\r\n\r\n    })\r\n    .then(function (response) {\r\n      console.log(response);\r\n    })\r\n    .catch(function (error) {\r\n      alert(\"Please make sure fields are valid.\")\r\n    });\r\n    setgeometryString('')\r\n    setwearString('')\r\n    setweatherString('')\r\n    setvegString('')\r\n  }\r\n    \r\n  return ( \r\n    \r\n    <div className=\"background\" > \r\n     \r\n      <header className = \"header1\">\r\n        <div className = \"logout\" onClick={logOut}>\r\n            Log Out\r\n        </div>\r\n      </header>\r\n\r\n    \r\n    <div className=\"map\">\r\n    \r\n    <div>\r\n      {showClickDiv && (<div className=\"thresholdButton\" onClick={clickShow}>Update Threshold</div>)}\r\n      {showUpdate && (<form >\r\n            <input type=\"text\" placeholder='Threshold' name=\"Threshold\" onChange={handleChange} className=\"thresInput\"></input>\r\n      </form>)}\r\n      {showClickDiv && (<h3>Current Threshold: {threshold}</h3>)}\r\n\r\n\r\n      \r\n\r\n    <MapContainer  className = 'map' center={[38.5, -121.7]} zoom={9} scrollWheelZoom={true}>\r\n\r\n      <TileLayer\r\n      attribution='&copy; <a href=\"https://www.openstreetmap.org/copyright\">OpenStreetMap</a> contributors'\r\n      url=\"https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png\"\r\n      />\r\n\r\n      <LineRender lines={lineData} thres={threshold}></LineRender>\r\n    </MapContainer>\r\n    </div>\r\n    {showAdd && (<div className=\"addLine\" onClick={handleAddClick}>Add Line</div>)}\r\n      {showAddField && (<form className='formbox'>\r\n        <input type = \"text\" placeholder=\"Geometry\" className=\"addInput\" onChange={geometryAdd}></input>\r\n          <input type = \"text\" placeholder=\"Wear\" className=\"addInput\"  onChange={wearAdd}></input>\r\n          <input type = \"text\" placeholder=\"Weather\" className=\"addInput\"  onChange={weatherAdd}></input>\r\n          <input type = \"text\" placeholder=\"Vegetation\" className=\"addInput\"  onChange={vegAdd}></input>\r\n          <input type = \"text\" placeholder=\"Name\" className=\"addInput\"  onChange={nameAdd}></input>\r\n        <label>\r\n          <input type = \"submit\" className=\"addInput\"  onClick={addToMap}></input>\r\n        </label>\r\n      </form>\r\n      )}\r\n    </div>\r\n    \r\n    </div>\r\n  );\r\n}\r\n\r\nexport default Map1;"],"mappings":"kIAAA,MAAOA,MAAP,EAAeC,SAAf,CAA0BC,UAA1B,CAAsCC,QAAtC,CAA+CC,MAA/C,KAA4D,OAA5D,CACA,MAAO,eAAP,CACA,OAASC,YAAT,KAA6B,4BAA7B,CACA,OAASC,SAAT,KAA0B,yBAA1B,CACA,MAAO,0BAAP,CACA,MAAOC,WAAP,KAAuB,cAAvB,CACA,OAAQC,WAAR,KAA0B,kBAA1B,C,wFACA,GAAMC,IAAG,CAAG,kCAAZ,CACA,GAAMC,MAAK,CAAGC,OAAO,CAAC,OAAD,CAArB,CAEA,QAASC,KAAT,EAAgB,CAEd,cAA+BT,QAAQ,CAAC,EAAD,CAAvC,wCAAOU,QAAP,eAAgBC,WAAhB,eACA,eAAiCX,QAAQ,CAAC,KAAD,CAAzC,yCAAOY,SAAP,eAAiBC,YAAjB,eACA,eAA6Bb,QAAQ,CAAC,KAAD,CAArC,yCAAOc,UAAP,eAAkBC,OAAlB,eACA,eAAoCf,QAAQ,CAAC,IAAD,CAA5C,yCAAOgB,YAAP,eAAqBC,WAArB,eACA,eAA8BjB,QAAQ,CAAC,IAAD,CAAtC,0CAAOkB,OAAP,gBAAgBC,UAAhB,gBACA,gBAAwCnB,QAAQ,CAAC,KAAD,CAAhD,2CAAOoB,YAAP,gBAAqBC,eAArB,gBACA,gBAA2CrB,QAAQ,CAAC,EAAD,CAAnD,2CAAOsB,cAAP,gBAAsBC,iBAAtB,gBACA,gBAAmCvB,QAAQ,CAAC,EAAD,CAA3C,2CAAOwB,UAAP,gBAAkBC,aAAlB,gBACA,gBAAyCzB,QAAQ,CAAC,EAAD,CAAjD,2CAAO0B,aAAP,gBAAqBC,gBAArB,gBACA,gBAAiC3B,QAAQ,CAAC,EAAD,CAAzC,2CAAO4B,SAAP,gBAAiBC,YAAjB,gBAGA,GAAMC,eAAc,CAAG,QAAjBA,eAAiB,EAAM,CAC3BvB,KAAK,CAACwB,GAAN,CAAUzB,GAAV,EACC0B,IADD,CACM,SAACC,QAAD,CAAc,CAClB,GAAMC,SAAQ,CAAGD,QAAQ,CAACE,IAA1B,CACAxB,WAAW,CAACuB,QAAD,CAAX,CACD,CAJD,EAKD,CAND,CAQApC,SAAS,CAAC,UAAM,CACdgC,cAAc,GACf,CAFQ,CAEN,EAFM,CAAT,CAIA,GAAMM,aAAY,CAAG,QAAfA,aAAe,CAAAC,KAAK,CAAI,CAC5B,GAAGA,KAAK,CAACC,MAAN,CAAaC,KAAb,CAAqB,CAArB,EAA0BF,KAAK,CAACC,MAAN,CAAaC,KAAb,CAAqB,CAAlD,CAAoD,CAClDC,KAAK,CAAC,+BAAD,CAAL,CACAH,KAAK,CAACC,MAAN,CAAaC,KAAb,CAAqB,GAArB,CACD,CAHD,IAII,CACF1B,YAAY,CAACwB,KAAK,CAACC,MAAN,CAAaC,KAAd,CAAZ,CACD,CACF,CARD,CAUA,GAAME,UAAS,CAAG,QAAZA,UAAY,CAAAJ,KAAK,CAAI,CACzBtB,OAAO,CAAC,IAAD,CAAP,CACAE,WAAW,CAAC,KAAD,CAAX,CACD,CAHD,CAKA,GAAMyB,SAAQ,CAAGrC,WAAW,EAA5B,CACA,GAAMsC,OAAM,CAAG,QAATA,OAAS,EACb,CACE,MACED,SAAQ,CAAC,GAAD,CADV,CAGD,CALH,CAOA,GAAME,eAAc,CAAG,QAAjBA,eAAiB,EAAM,CAC3BzB,UAAU,CAAC,KAAD,CAAV,CACAE,eAAe,CAAC,IAAD,CAAf,CACD,CAHD,CAKA,GAAMwB,YAAW,CAAG,QAAdA,YAAc,CAACR,KAAD,CAAW,CAC7B,GAAIS,IAAG,CAAGC,IAAI,CAACC,KAAL,CAAWX,KAAK,CAACC,MAAN,CAAaC,KAAxB,CAAV,CACAhB,iBAAiB,CAACuB,GAAD,CAAjB,CACD,CAHD,CAIA,GAAMG,QAAO,CAAG,QAAVA,QAAU,CAACZ,KAAD,CAAW,CACzBZ,aAAa,CAACY,KAAK,CAACC,MAAN,CAAaC,KAAd,CAAb,CACD,CAFD,CAGA,GAAMW,WAAU,CAAG,QAAbA,WAAa,CAACb,KAAD,CAAW,CAC5BV,gBAAgB,CAACU,KAAK,CAACC,MAAN,CAAaC,KAAd,CAAhB,CACD,CAFD,CAGA,GAAMY,OAAM,CAAG,QAATA,OAAS,CAACd,KAAD,CAAW,CACxBR,YAAY,CAACQ,KAAK,CAACC,MAAN,CAAaC,KAAd,CAAZ,CACD,CAFD,CAIA,GAAMa,QAAO,CAAG,QAAVA,QAAU,CAACf,KAAD,CAAW,CAE1B,CAFD,CAIA,GAAMgB,SAAQ,CAAG,QAAXA,SAAW,EAAM,CACrBhC,eAAe,CAAC,KAAD,CAAf,CACAF,UAAU,CAAC,IAAD,CAAV,CACAZ,KAAK,CAAC+C,IAAN,CAAWhD,GAAX,CAAgB,CACdiD,QAAQ,CAAEjC,cADI,CAEdkC,IAAI,CAAEhC,UAFQ,CAGdiC,OAAO,CAAE/B,aAHK,CAIdgC,UAAU,CAAG9B,SAJC,CAAhB,EAOCI,IAPD,CAOM,SAAUC,QAAV,CAAoB,CACxB0B,OAAO,CAACC,GAAR,CAAY3B,QAAZ,EACD,CATD,EAUC4B,KAVD,CAUO,SAAUC,KAAV,CAAiB,CACtBtB,KAAK,CAAC,oCAAD,CAAL,CACD,CAZD,EAaAjB,iBAAiB,CAAC,EAAD,CAAjB,CACAE,aAAa,CAAC,EAAD,CAAb,CACAE,gBAAgB,CAAC,EAAD,CAAhB,CACAE,YAAY,CAAC,EAAD,CAAZ,CACD,CApBD,CAsBA,mBAEE,aAAK,SAAS,CAAC,YAAf,wBAEE,eAAQ,SAAS,CAAG,SAApB,uBACE,YAAK,SAAS,CAAG,QAAjB,CAA0B,OAAO,CAAEc,MAAnC,qBADF,EAFF,cASA,aAAK,SAAS,CAAC,KAAf,wBAEA,uBACG3B,YAAY,eAAK,YAAK,SAAS,CAAC,iBAAf,CAAiC,OAAO,CAAEyB,SAA1C,8BADpB,CAEG3B,UAAU,eAAK,mCACV,cAAO,IAAI,CAAC,MAAZ,CAAmB,WAAW,CAAC,WAA/B,CAA2C,IAAI,CAAC,WAAhD,CAA4D,QAAQ,CAAEsB,YAAtE,CAAoF,SAAS,CAAC,YAA9F,EADU,EAFlB,CAKGpB,YAAY,eAAK,4CAAwBJ,SAAxB,GALpB,cAUA,MAAC,YAAD,EAAe,SAAS,CAAG,KAA3B,CAAiC,MAAM,CAAE,CAAC,IAAD,CAAO,CAAC,KAAR,CAAzC,CAAyD,IAAI,CAAE,CAA/D,CAAkE,eAAe,CAAE,IAAnF,wBAEE,KAAC,SAAD,EACA,WAAW,CAAC,yFADZ,CAEA,GAAG,CAAC,oDAFJ,EAFF,cAOE,KAAC,UAAD,EAAY,KAAK,CAAEF,QAAnB,CAA6B,KAAK,CAAEE,SAApC,EAPF,GAVA,GAFA,CAsBCM,OAAO,eAAK,YAAK,SAAS,CAAC,SAAf,CAAyB,OAAO,CAAE0B,cAAlC,sBAtBb,CAuBGxB,YAAY,eAAK,cAAM,SAAS,CAAC,SAAhB,wBAChB,cAAO,IAAI,CAAG,MAAd,CAAqB,WAAW,CAAC,UAAjC,CAA4C,SAAS,CAAC,UAAtD,CAAiE,QAAQ,CAAEyB,WAA3E,EADgB,cAEd,cAAO,IAAI,CAAG,MAAd,CAAqB,WAAW,CAAC,MAAjC,CAAwC,SAAS,CAAC,UAAlD,CAA8D,QAAQ,CAAEI,OAAxE,EAFc,cAGd,cAAO,IAAI,CAAG,MAAd,CAAqB,WAAW,CAAC,SAAjC,CAA2C,SAAS,CAAC,UAArD,CAAiE,QAAQ,CAAEC,UAA3E,EAHc,cAId,cAAO,IAAI,CAAG,MAAd,CAAqB,WAAW,CAAC,YAAjC,CAA8C,SAAS,CAAC,UAAxD,CAAoE,QAAQ,CAAEC,MAA9E,EAJc,cAKd,cAAO,IAAI,CAAG,MAAd,CAAqB,WAAW,CAAC,MAAjC,CAAwC,SAAS,CAAC,UAAlD,CAA8D,QAAQ,CAAEC,OAAxE,EALc,cAMhB,oCACE,cAAO,IAAI,CAAG,QAAd,CAAuB,SAAS,CAAC,UAAjC,CAA6C,OAAO,CAAEC,QAAtD,EADF,EANgB,GAvBpB,GATA,GAFF,CAiDD,CAED,cAAe5C,KAAf"},"metadata":{},"sourceType":"module"}